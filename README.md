# RxSwift-Practise

## RxSwift 实现较复杂的笔记列表同步逻辑:

 模拟一个比较复杂的场景:

 1. 一个语音笔记类应用，创建的笔记会保存在本地，笔记生产完成后进行上传；
    - 如果没有网络时产生的笔记，网络恢复后进行上传；
    - 如果没有网络时，修改了笔记的 title 或 content，网络恢复后进行上传；
    - 笔记需要上传的部分包括：title、content、mp3 录音；
    - 非 wifi 下，不上传 Mp3 文件；
 2. 笔记上传流程：
    - 笔记上传前，需要先请求一个 serverID；
    - 录音 Mp3 文件上传前，需要先申请 signature；
    - 开始上传某条笔记时，该笔记的 icon 开始旋转动画；
    - 单条笔记上传完成，上传动画结束；
 3. ❗️难点：一个上传动作，可能包含多条笔记：
    - 有的笔记需要先申请 serverID，然后依次上传 title、content、申请 signature、上传 Mp3
    - 有的笔记只需要上传 title、有的笔记只需要上传 Mp3 文件；
    - 上传过程中可能某条笔记的某一步上传动作失败：
        - 需要跳过这条笔记继续下一条
        - 或者，如果是网络原因、token 过期等，需要结束整个流程

![F_Demo](http://ob7o39x9f.bkt.clouddn.com/2018-06-06-Untitled.gif)

// TODO: rx 流程图


